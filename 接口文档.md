# 接口文档
## 全局
```json
{
  "status":200,//一个三位整数
  "message":"OK",//一个简短的英文短语用于说明
  "data":{}//请求的数据
}
```
**时间格式 ：2016-01-02 12:40:00**

host    :   主机名  
appname :   "mrcourse"

url = "https//"+host+"/"+appname+ 接口路径

权限
+ student
+ teacher

## 返回信息格式的具体说明
```json
{
//代表成功返回
  "status":200,
  "message":"OK",
//
//代表失败，默认 failure
  "status":300,
  "message":"OK",
//
//代表没有权限
  "status":400,
  "message":"permission denied"
}
```
## 具体请求
### 无权限请求
#### 登录  
url:/login  
method:POST  
request
```json
{"username":"id","password":"password"}
```
response
```json
{
  "status":200,
  "message":"OK",
  "data":{}
}
```
```json
{
  "status":300,//300包括密码错误等
  "message":"用户名或密码错误",
  "data":{}
}
```

#### 注册  
url:/register  
method:POST  
request
```json
{
  "username":"",
  "name":"",
  "password":"",
  "type":"student"//或者"teacher"
}
```
response
```json
{
  "status":200,
  "message":"OK",
  "data":{}
}
```
### teacher or student请求
#### 获取*已参加/已创建*课程  
url:common/course  
method:get  
request:{}  
response:
```json
{
  "status":200,
  "message":"OK",
  "data":
      [{
        "id":112,
        "name":"xxxxx",
        "introduce":"xxxxx",
        "teacherId":"aaa",
        "teacherInfo":{
           "name":"aaa",
           "introduce":""          
          },
        "lessons":[//上课记录,保存课堂开始时间
          {
          "id":1,
          "date":"data2",
          "introduce":"aaa",
          "state":1  // 1 表示 正在上课
          },
          {
           "id":2,
           "date":"data2",
           "introduce":"aaa",
           "state":0
          }  
        ]     
      },
      {
        "id":112,
        "name":"yyyyy",
        "introduce":"yyyyy",
        "teacherId":"aaa",
        "teacherInfo":{
           "name":"aaa",
           "introduce":""          
          },
        "state":true ,//描述是否正在上课
        "lessons":[//上课记录,保存课堂开始时间
            {
            "id":1,
            "date":"data2",
            "introduce":"aaa",
            "state":1  // 1 表示 正在上课
            },
            {
             "id":2,
             "date":"data2",
             "introduce":"aaa",
             "state":"0"
            }  
        ] 
      }
      ]
}
```

#### 获取该课程资料  
url:common/file/${courseId}  
method:get  
request{}  
response
```json
{
  "status":200,
  "message":"OK",
  "data":
  [
    { 
      "courseId":123,
      "id":123,
      "uploaderId":"aaa",
      "uploaderName":"aa",
      "fileName":"aa",
      "size":1234565,
      "date":""
    },
    {
    
    },
    {
    
    }
  ]
}
```

#### 上传课程资料  
url:common/file/${courseId}  
method:POST  
request(**form-data**)
```jsone
  "file":"blob"
}
```
response
```json
{
  "status":200,
  "message":"OK",
  "data":{}
}
```
#### 下载资料
url:common/file/download/{fileId}  
method:GET  
request:{}  
response:{}

#### 获取公告  
url:common/notice/${courseId}  
method:GET  
request  
response
```json
{
  "status":200,
  "message":"OK",
  "data":
    [
      {
        "content":"string",
        "date":"2017-4-4-4"
      },
      {
        "content":"string",
        "date":"2017-4-4-4"
      }
    ]
  
}
```

### teacher权限请求
#### 创建课程  
url:/teacher/course  
method:POST  
request
```json
{
  "name":"",
  "introduce":""
}
```
response
```json
{
  "status":200,
  "message":"OK",
  "data":{
    "courseId":123
  }
}
```

#### 发布公告  
url:/teacher/notice/${courseId}  
method:POST  
request
```json
{
  "content":""
}
```
response
```json
{
  "status":200,
  "message":"OK",
  "data":{}
}
```

#### 开始上课  
url:teacher/start/${courseId}  
method:POST  
request
```json
{
   "introduce":"aa"
}
```  
response
```json
{
  "status":200,
  "message":"OK",
  "data":{
    "lessonId":123
  }
}
```

#### 继续上课  
url:teacher/continue/${courseId}/${lessonId}  
method:POST  
request{}  
response
```json
{
  "status":200,
  "message":"OK",
  "data":{}
}
```

#### 结束上课  
url:teacher/end/${courseId}/${lessonId}  
method:POST  
request{}  

response
```json
{
  "status":200,
  "message":"OK",
  "data":{}
}
```

### student权限请求

#### 搜索课程  
url:student/search/${keyWord}  
method:GET  
request{}  
response
```json
{
  "status":200,
  "message":"OK",
  "data":
   [
      { 
        "id":111,
        "teacherId":111,
        "teacherInfo":
         {
            "name":"aaa",
            "introduce":"bbb"
         },
        "name":"xxx",
        "introduce":"xxxxxxx",
        "date":""
      }
   ]  
}
```

#### 加入课程  
url:student/course/join/${courseId}  
method:POST  
request{}  
response
```json
{
  "status":200,
  "message":"OK",
  "data":{}
} 
```