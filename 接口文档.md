# 接口文档
##全局
```json
{
  "status":200,//一个三位整数
  "message":"OK",//一个简短的英文短语用于说明
  "data":{}//请求的数据
}
```
**时间格式 ：2016-01-02 12:40:00**

host    :   主机名<br>
appname :   "mrcourse"

url = "https//"+host+"/"+appname+ 接口路径

权限
+ student
+ teacher

##返回信息格式的具体说明
```json
{
//代表成功返回
  "status":200,
  "message":"OK",
//
//代表失败，默认 failure
  "status":300,
  "message":"OK",
//
//代表没有权限
  "status":400,
  "message":"permission denied"
}
```
##具体请求
###无权限请求
登录<br>
url:/login<br>
method:POST
request
```json
{"username":"id","password":"password"}
```
response
```json
{
  "status":200,
  "message":"OK",
  "data":{}
}
```
```json
{
  "status":300,//300包括密码错误等
  "message":"用户名或密码错误",
  "data":{}
}
```

注册<br>
url:/register<br>
method:POST<br>
request
```json
{
  "username":"",
  "name":"",
  "password":"",
  "type":"student"//或者"teacher"
}
```
response
```json
{
  "status":200,
  "message":"OK",
  "data":{}
}
```
###teacher or student请求
获取*已参加/已创建*课程  
url:common/course  
method:get<br>
request:{}<br>
response:
```json
{
  "status":200,
  "message":"OK",
  "data":
      [{
        "id":112,
        "name":"xxxxx",
        "introduce":"xxxxx",
        "teacherId":"aaa",
        "teacherInfo":{
           "name":"aaa",
           "introduce":""          
          },
        "state":true ,//描述是否正在上课
        "lessons":[//上课记录,保存课堂开始时间
          {
          "id":1,
          "date":"data2",
          "introduce":"aaa",
          "state":1  // 1 表示 正在上课
          },
          {
           "id":2,
           "date":"data2",
           "introduce":"aaa",
           "state":"0"
          }  
        ]     
      },
      {
        "id":112,
        "name":"yyyyy",
        "introduce":"yyyyy",
        "teacherId":"aaa",
        "teacherInfo":{
           "name":"aaa",
           "introduce":""          
          },
        "state":true ,//描述是否正在上课
        "lessons":[//上课记录,保存课堂开始时间
            {
            "id":1,
            "date":"data2",
            "introduce":"aaa",
            "state":1  // 1 表示 正在上课
            },
            {
             "id":2,
             "date":"data2",
             "introduce":"aaa",
             "state":"0"
            }  
        ] 
      }
      ]
}
```

获取该课程资料<br>
url:common/file<br>
method:get<br>
request
```json
{
  "courseId":123
}
```
response
```json
{
  "status":200,
  "message":"OK",
  "data":
  [
    { 
     "url":"xxxxxxxxxxxxx",
     "name":"dddd"
    },
    {
    
    },
    {
    
    }
  ]
}
```

上传课程资料<br>
url:common/file<br>
method:POST<br>
request(**form-data**)
```json
{
  "courseId":123,
  "file":"blob"
}
```
response
```json
{
  "status":200,
  "message":"OK",
  "data":{}
}
```

获取公告<br>
url:common/notice<br>
method:GET<br>
request
```json
{
  "courseId":123
}
```
response
```json
{
  "status":200,
  "message":"OK",
  "data":{
    "notice":[
      {
        "content":"string",
        "date":"2017-4-4-4"
      },
      {
        "content":"string",
        "date":"2017-4-4-4"
      }
    ]
  }
}
```

###teacher权限请求
创建课程<br>
url:/teacher/course<br>
method:POST<br>
request
```json
{
  "name":"",
  "introduce":""
}
```
response
```json
{
  "status":200,
  "message":"OK",
  "data":{
    "courseId":123
  }
}
```

发布公告<br>
url:/teacher/notice<br>
method:POST<br>
request
```json
{
  "courseId":132,
  "content":""
}
```
response
```json
{
  "status":200,
  "message":"OK",
  "data":{}
}
```

开始上课<br>
url:teacher/lesson/start<br>
method:POST<br>
request{}<br>
response
```json
{
  "status":200,
  "message":"OK",
  "data":{}
}
```

结束上课<br>
url:teacher/lesson/end<br>
method:POST<br>
request{}<br>

response
```json
{
  "status":200,
  "message":"OK",
  "data":{}
}
```

###student权限请求

搜索课程<br>
url:student/search<br>
method:GET<br>
request
```json
{
  "keyWord":"123"
}
```
response
```json
{
  "status":200,
  "message":"OK",
  "data":{
    "result":[
      {
        "name":"xxx",
        "introduce":"xxxxxxx"
      }
    ]
  }
}
```

加入课程<br>
url:student/course/join<br>
method:POST<br>
request
```json
{
  "courseId":132
}
```
response
```json
{
  "status":200,
  "message":"OK",
  "data":{}
}
```